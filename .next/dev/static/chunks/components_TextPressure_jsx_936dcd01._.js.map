{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/Hossam/components/TextPressure.jsx"],"sourcesContent":["// Component ported from https://codepen.io/JuanFuentes/full/rgXKGQ\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\n\r\nconst TextPressure = ({\r\n  text = 'Compressa',\r\n  fontFamily = 'Compressa VF',\r\n  // This font is just an example, you should not use it in commercial projects.\r\n  fontUrl = 'https://res.cloudinary.com/dr6lvwubh/raw/upload/v1529908256/CompressaPRO-GX.woff2',\r\n\r\n  width = true,\r\n  weight = true,\r\n  italic = true,\r\n  alpha = false,\r\n\r\n  flex = true,\r\n  stroke = false,\r\n  scale = false,\r\n\r\n  textColor = '#FFFFFF',\r\n  strokeColor = '#FF0000',\r\n  strokeWidth = 2,\r\n  className = '',\r\n\r\n  minFontSize = 24\r\n}) => {\r\n  const containerRef = useRef(null);\r\n  const titleRef = useRef(null);\r\n  const spansRef = useRef([]);\r\n\r\n  const mouseRef = useRef({ x: 0, y: 0 });\r\n  const cursorRef = useRef({ x: 0, y: 0 });\r\n\r\n  const [fontSize, setFontSize] = useState(minFontSize);\r\n  const [scaleY, setScaleY] = useState(1);\r\n  const [lineHeight, setLineHeight] = useState(1);\r\n\r\n  const chars = text.split('');\r\n\r\n  const dist = (a, b) => {\r\n    const dx = b.x - a.x;\r\n    const dy = b.y - a.y;\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = e => {\r\n      cursorRef.current.x = e.clientX;\r\n      cursorRef.current.y = e.clientY;\r\n    };\r\n    const handleTouchMove = e => {\r\n      const t = e.touches[0];\r\n      cursorRef.current.x = t.clientX;\r\n      cursorRef.current.y = t.clientY;\r\n    };\r\n\r\n    window.addEventListener('mousemove', handleMouseMove);\r\n    window.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n\r\n    if (containerRef.current) {\r\n      const { left, top, width, height } = containerRef.current.getBoundingClientRect();\r\n      mouseRef.current.x = left + width / 2;\r\n      mouseRef.current.y = top + height / 2;\r\n      cursorRef.current.x = mouseRef.current.x;\r\n      cursorRef.current.y = mouseRef.current.y;\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener('mousemove', handleMouseMove);\r\n      window.removeEventListener('touchmove', handleTouchMove);\r\n    };\r\n  }, []);\r\n\r\n  const setSize = () => {\r\n    if (!containerRef.current || !titleRef.current) return;\r\n\r\n    const { width: containerW, height: containerH } = containerRef.current.getBoundingClientRect();\r\n\r\n    let newFontSize = containerW / (chars.length / 2);\r\n    newFontSize = Math.max(newFontSize, minFontSize);\r\n\r\n    setFontSize(newFontSize);\r\n    setScaleY(1);\r\n    setLineHeight(1);\r\n\r\n    requestAnimationFrame(() => {\r\n      if (!titleRef.current) return;\r\n      const textRect = titleRef.current.getBoundingClientRect();\r\n\r\n      if (scale && textRect.height > 0) {\r\n        const yRatio = containerH / textRect.height;\r\n        setScaleY(yRatio);\r\n        setLineHeight(yRatio);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSize();\r\n    window.addEventListener('resize', setSize);\r\n    return () => window.removeEventListener('resize', setSize);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [scale, text]);\r\n\r\n  useEffect(() => {\r\n    let rafId;\r\n    const animate = () => {\r\n      mouseRef.current.x += (cursorRef.current.x - mouseRef.current.x) / 15;\r\n      mouseRef.current.y += (cursorRef.current.y - mouseRef.current.y) / 15;\r\n\r\n      if (titleRef.current) {\r\n        const titleRect = titleRef.current.getBoundingClientRect();\r\n        const maxDist = titleRect.width / 2;\r\n\r\n        spansRef.current.forEach(span => {\r\n          if (!span) return;\r\n\r\n          const rect = span.getBoundingClientRect();\r\n          const charCenter = {\r\n            x: rect.x + rect.width / 2,\r\n            y: rect.y + rect.height / 2\r\n          };\r\n\r\n          const d = dist(mouseRef.current, charCenter);\r\n\r\n          const getAttr = (distance, minVal, maxVal) => {\r\n            const val = maxVal - Math.abs((maxVal * distance) / maxDist);\r\n            return Math.max(minVal, val + minVal);\r\n          };\r\n\r\n          const wdth = width ? Math.floor(getAttr(d, 5, 200)) : 100;\r\n          const wght = weight ? Math.floor(getAttr(d, 100, 900)) : 400;\r\n          const italVal = italic ? getAttr(d, 0, 1).toFixed(2) : 0;\r\n          const alphaVal = alpha ? getAttr(d, 0, 1).toFixed(2) : 1;\r\n\r\n          span.style.opacity = alphaVal;\r\n          span.style.fontVariationSettings = `'wght' ${wght}, 'wdth' ${wdth}, 'ital' ${italVal}`;\r\n        });\r\n      }\r\n\r\n      rafId = requestAnimationFrame(animate);\r\n    };\r\n\r\n    animate();\r\n    return () => cancelAnimationFrame(rafId);\r\n  }, [width, weight, italic, alpha, chars.length]);\r\n\r\n  return (\r\n    <div ref={containerRef} className=\"relative w-full h-full bg-transparent\">\r\n      <style>{`\r\n        @font-face {\r\n          font-family: '${fontFamily}';\r\n          src: url('${fontUrl}');\r\n          font-style: normal;\r\n        }\r\n        .stroke span {\r\n          position: relative;\r\n          color: ${textColor};\r\n        }\r\n        .stroke span::after {\r\n          content: attr(data-char);\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          color: transparent;\r\n          z-index: -1;\r\n          -webkit-text-stroke-width: ${strokeWidth}px;\r\n          -webkit-text-stroke-color: ${strokeColor};\r\n        }\r\n      `}</style>\r\n\r\n      <h1\r\n        ref={titleRef}\r\n        className={`text-pressure-title ${className} ${\r\n          flex ? 'flex justify-between' : ''\r\n        } ${stroke ? 'stroke' : ''} uppercase text-center`}\r\n        style={{\r\n          fontFamily,\r\n          fontSize: fontSize,\r\n          lineHeight,\r\n          transform: `scale(1, ${scaleY})`,\r\n          transformOrigin: 'center top',\r\n          margin: 0,\r\n          fontWeight: 300,\r\n          color: stroke ? undefined : textColor\r\n        }}\r\n      >\r\n        {chars.map((char, i) => (\r\n          <span key={i} ref={el => (spansRef.current[i] = el)} data-char={char} className=\"inline-block\">\r\n            {char}\r\n          </span>\r\n        ))}\r\n      </h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextPressure;\r\n"],"names":[],"mappings":"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"}}]
}